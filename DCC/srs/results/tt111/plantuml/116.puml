@startuml
' ===== Model Package =====
package model {
  class CoordinateGroup {
    - id: int
    - timestamp: Date
    - label: String
    - cartesian: CartesianCoordinate
    - polar: PolarCoordinate
    + getId(): int
    + getTimestamp(): Date
    + getLabel(): String
    + getCartesian(): CartesianCoordinate
    + getPolar(): PolarCoordinate
    + setLabel(label: String): void
    + setCartesian(cart: CartesianCoordinate): void
    + setPolar(polar: PolarCoordinate): void
  }
  
  class CartesianCoordinate {
    - x: double
    - y: double
    + CartesianCoordinate(x: double, y: double)
    + getX(): double
    + getY(): double
  }
  
  class PolarCoordinate {
    - r: double
    - theta: double
    + PolarCoordinate(r: double, theta: double)
    + getR(): double
    + getTheta(): double
  }
  
  ' Composition: A CoordinateGroup is composed of a Cartesian and a Polar coordinate.
  CoordinateGroup *-- CartesianCoordinate : has
  CoordinateGroup *-- PolarCoordinate : has
}

' ===== Data Access Package =====
package data {
  class DBConnection {
    - url: String
    - username: String
    - password: String
    + getConnection(): Connection
  }
  
  class CoordinateGroupDAO {
    - dbConnection: DBConnection
    + insert(group: model.CoordinateGroup): void
    + update(group: model.CoordinateGroup): void
    + delete(id: int): void
    + getAll(): List<model.CoordinateGroup>
    + findByLabel(label: String): List<model.CoordinateGroup>
  }
}

' ===== Business Package =====
package business {
  class CoordinateConverter {
    + convertToCartesian(polar: model.PolarCoordinate): model.CartesianCoordinate
    + convertToPolar(cart: model.CartesianCoordinate): model.PolarCoordinate
  }
  
  class CoordinateGroupService {
    - dao: data.CoordinateGroupDAO
    - converter: CoordinateConverter
    + addCoordinateGroup(label: String, type: String, a: double, b: double): void
    + updateCoordinateGroup(id: int, newLabel: String, type: String, a: double, b: double): void
    + getAllCoordinateGroups(): List<model.CoordinateGroup>
    + getCoordinateGroupByLabel(label: String): List<model.CoordinateGroup>
    + deleteCoordinateGroup(id: int): void
  }
  
  ' Associations: Service uses DAO and Converter to perform its operations.
  CoordinateGroupService --> data.CoordinateGroupDAO : uses
  CoordinateGroupService --> CoordinateConverter : uses
}

' ===== Presentation Package =====
package presentation {
  class DCCFrame {
    - service: business.CoordinateGroupService
    + display(): void
    + handleCreate(): void
    + handleUpdate(): void
    + handleViewAll(): void
    + handleViewByLabel(): void
    + handleDelete(): void
  }
  
  ' DCCFrame delegates user actions to the business layer.
  DCCFrame --> business.CoordinateGroupService : uses
}

@enduml