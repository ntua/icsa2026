@startuml

' Define Model Package
package model {
  class CoordinateGroup {
    - id: int
    - timestamp: Date
    - label: String
    - cartesian: CartesianCoordinate
    - polar: PolarCoordinate
    + getId(): int
    + setId(int): void
    + getTimestamp(): Date
    + setTimestamp(Date): void
    + getLabel(): String
    + setLabel(String): void
    + getCartesian(): CartesianCoordinate
    + setCartesian(CartesianCoordinate): void
    + getPolar(): PolarCoordinate
    + setPolar(PolarCoordinate): void
  }
  
  class CartesianCoordinate {
    - x: double
    - y: double
    + getX(): double
    + setX(double): void
    + getY(): double
    + setY(double): void
  }
  
  class PolarCoordinate {
    - r: double
    - theta: double
    + getR(): double
    + setR(double): void
    + getTheta(): double
    + setTheta(double): void
  }
  
  CoordinateGroup --> CartesianCoordinate : contains
  CoordinateGroup --> PolarCoordinate : contains
}

' Define Business Package
package business {
  class CoordinateConverter {
    + toPolar(cartesian: CartesianCoordinate): PolarCoordinate
    + toCartesian(polar: PolarCoordinate): CartesianCoordinate
  }
  
  class CoordinateGroupService {
    - dao: CoordinateGroupDAO
    + createGroup(label: String, cartesian: CartesianCoordinate): void
    + createGroup(label: String, polar: PolarCoordinate): void
    + updateGroup(group: CoordinateGroup): void
    + deleteGroup(id: int): void
    + listGroups(): List<CoordinateGroup>
    + findGroupsByLabel(label: String): List<CoordinateGroup>
  }
  
  CoordinateGroupService ..> CoordinateConverter : uses
  CoordinateGroupService --> model.CoordinateGroup : manages
}

' Define Data Package
package data {
  class CoordinateGroupDAO {
    - connection: Connection
    + save(group: model.CoordinateGroup): void
    + update(group: model.CoordinateGroup): void
    + delete(id: int): void
    + findAll(): List<model.CoordinateGroup>
    + findByLabel(label: String): List<model.CoordinateGroup>
  }
  
  class DatabaseConnectionManager {
    + getConnection(): Connection
  }
  
  CoordinateGroupDAO --> DatabaseConnectionManager : uses
  CoordinateGroupDAO --> model.CoordinateGroup : persists
}

' Define Presentation Package
package presentation {
  class DCCMainFrame {
    - service: business.CoordinateGroupService
    + initUI(): void
    + onAddButtonClick(): void
    + onUpdateButtonClick(): void
    + onDeleteButtonClick(): void
    + onViewAllButtonClick(): void
    + onFindByLabelButtonClick(): void
  }
  
  class CreateCoordinateGroupPanel {
    + render(): void
  }
  
  class ModifyCoordinateGroupPanel {
    + render(): void
  }
  
  class CoordinateGroupListView {
    + renderList(groups: List<model.CoordinateGroup>): void
  }
  
  DCCMainFrame --> CreateCoordinateGroupPanel : uses
  DCCMainFrame --> ModifyCoordinateGroupPanel : uses
  DCCMainFrame --> CoordinateGroupListView : uses
}

' Define Associations Across Packages
presentation.DCCMainFrame --> business.CoordinateGroupService : uses
business.CoordinateGroupService --> data.CoordinateGroupDAO : uses
business.CoordinateGroupService --> model.CoordinateGroup
data.CoordinateGroupDAO --> model.CoordinateGroup
business.CoordinateConverter ..> model.CartesianCoordinate : converts
business.CoordinateConverter ..> model.PolarCoordinate : converts

@enduml